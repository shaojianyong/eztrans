<div id="left-side" class="ui sidebar">

  <div class="ui items">
    <div id="left-side-menu" class="ui item">
      <div class="ui inverted fluid attached secondary menu">
        <div class="ui borderless item">
          <div class="ui inverted transparent icon input">
            <input #searchInput type="text" placeholder="Search..." (input)="onSearchInput(searchInput)">
            <i *ngIf="!searchInput.value" class="search icon"></i>
            <i *ngIf="searchInput.value" class="remove link icon" (click)="onCloseSearch(searchInput)"></i>
          </div>
        </div>
        <div class="right menu">
          <a class="ui icon item" (click)="addGroup()">
            <i class="ui plus icon"></i>
          </a>
        </div>
      </div>
    </div>

    <div id="left-side-list" class="ui item">
      <div class="ui inverted fluid vertical accordion">
        <div *ngFor="let group of doc_groups" class="item">
          <div class="ui title {{('#group-' + group.id === sel_eid) ? 'selected_document' : ''}}"
               (click)="onClickGroup(group.id)"
               (contextmenu)="onGroupContextMenu(group)"
               id="group-{{group.id}}">  <!--active-->
            <i class="dropdown icon"></i>
            <span class="group-name" contenteditable="false" [textContent]="group.name"
                  (blur)="endGroupRename($event, group.id)"
                  (keydown.enter)="endGroupRename($event, group.id)">{{group.name}}</span>
            <span class="doc-count">({{getNormalDocs(group).length}})</span>
          </div>
          <div class="ui content">  <!--active content-->
            <table class="ui inverted small very basic table">  <!--selectable-->
              <tbody>
              <tr *ngFor="let doc of getNormalDocs(group)"
                  id="doc-{{doc.id}}"
                  (click)="select(doc)"
                  (dblclick)="openDoc()"
                  (contextmenu)="onDocContextMenu(doc, group)"
                  class="{{('#doc-' + doc.id === sel_eid) ? 'selected_document' : ''}}">
                <td class="collapsing left-mark">
                  <i *ngIf="doc.id === cur_doc.id" class="file text icon"></i>
                  <i *ngIf="doc.id !== cur_doc.id" class="file text outline icon"></i>
                </td>
                <td class="doc-name" contenteditable="false" [textContent]="doc.name"
                    (blur)="endDocRename($event)" (keydown.enter)="endDocRename($event)">
                  {{doc.name}}
                </td>
                <td class="collapsing right-mark" [ngSwitch]="doc.x_state">  <!--TODO: x_state?-->
                  <i *ngSwitchCase="0" class="placeholder icon"></i>
                  <i *ngSwitchCase="1" class="edit icon"></i>
                  <i *ngSwitchCase="2" class="checkmark icon"></i>
                  <i *ngSwitchDefault class="placeholder icon"></i>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="item">
          <div class="ui title {{('#group-recycle' === sel_eid) ? 'selected_document' : ''}}"
               (click)="onClickGroup('recycle')"
               (contextmenu)="onRecycleBinContextMenu()"
               id="group-recycle">
            <i class="dropdown icon"></i>
            Recycle Bin <span class="doc-count">({{getRemovedDocs().length}})</span>
          </div>
          <div class="ui content">
            <table class="ui inverted small very basic table">
              <tbody>
              <tr *ngFor="let doc of getRemovedDocs()"
                  id="doc-{{doc.id}}"
                  (click)="select(doc)"
                  (contextmenu)="onRecycleDocContextMenu(doc)"
                  class="{{('#doc-' + doc.id === sel_eid) ? 'selected_document' : ''}}">
                <td class="collapsing left-mark">
                  <i class="file text outline icon"></i>
                </td>
                <td class="doc-name">
                  {{doc.name}}
                </td>
                <td class="collapsing right-mark">
                  <i class="placeholder icon"></i>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>


<!-- Message Box -->
<app-msgbox></app-msgbox>
