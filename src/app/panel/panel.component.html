<div id="panel-container" *ngIf="sentence && sentence.target !== -2 && !sentence.ignore" class="ui container">
  <div *ngIf="sentence.custom" class="ui vertical segment">
    <div id="custom-editor" contenteditable="true" [textContent]="sentence.custom.target_text"
         (input)="onEditInput()" (focus)="onEditFocus()" (blur)="onEditBlur()"
         (keydown.enter)="endEditEnterKeyDown($event)"></div>
    <div class="ui small icon secondary menu">
      <a class="item" (click)="selectTranslation(-1)">
        <i class="{{getHeartIcon(-1)}}"></i>
      </a>
      <a class="item" (click)="removeCustom()">
        <i class="remove icon"></i>
      </a>
      <a class="right item">
        <i class="idea icon"></i>
      </a>
    </div>
  </div>
  <!-- important: idx定义要用let，否则事件处理函数不能用它作为参数 -->
  <div *ngFor="let refer of sentence.refers; let idx = index" class="ui vertical segment">
    <p>{{refer.target_text}}</p>
    <div class="ui small icon secondary menu">
      <a class="item" (click)="selectTranslation(idx)">
        <i class="{{getHeartIcon(idx)}}"></i>
      </a>
      <a class="item" (click)="clone(idx)">
        <i class="clone outline icon"></i>
      </a>
      <a class="right item" (click)="onExLink(refer.engine_name)">
        <i class="{{getEngineIcon(refer.engine_name)}}"></i>
      </a>
    </div>
  </div>
</div>
